<!doctype html>
<html lang="en">
  <head>
    <!-- Verify google -->
    <meta name="google-site-verification" content="89K1GQkrgPnsAXcd5ZrNd2CZTOh_lGS9PktQ4eZrkWk" />
    <!-- base url for all relative urls.  -->
    <base target="_top" href="<%= Application.extendedSubclass.static['StaticContent'].url %>/">

    <link rel="import" href="/asset/metadata/metadata.html">

    <!-- JSPM -->
    <script src="/asset/javascript/jspm_packages/system.js"></script>
    <script> System.config({ baseURL: "/asset/javascript/" }); </script>
    <script src="/asset/javascript/jspm.config.js"></script>

    <!-- Load Custom Elements es5 adapter - Fixing (supposedly) workaround ES5-style classes cannot properly extend ES6 classes - https://github.com/webcomponents/webcomponentsjs#custom-elements-es5-adapterjs --> 
    <!--<script src="/asset/webcomponent/bower_components/webcomponentsjs/custom-elements-es5-adapter.js"></script>-->
    <!--<script src="/asset/webcomponent/bower_components/webcomponentsjs/webcomponents-loader.js"></script>-->
    <!-- entrypoint.js (common js) -->
    <script>
      window.App = JSON.parse('<%= JSON.stringify(Application.frontend) %>');
    </script>
    <script src="/asset/javascript/entrypoint.js"></script>

    <!-- Polymer - imported for `main-document-element` -->
    <link rel="import" href="/asset/webcomponent/bower_components/polymer/polymer.html">

    <link rel="import" href="/asset/webcomponent/web-app/web-app.html">
    <link rel="stylesheet" href="/asset/stylesheet/default.css">

  </head>
  <body>

    <!-- main document element is placed in side the js main template entrypoint file to allow server-side manipulations. -->
    <main-document-element>
      <web-app></web-app>
    </main-document-element>

    <dom-module id="main-document-element">
      <template>
        <slot></slot>
      </template>
      <script>
        {
          const App = window.App || {}; 
          // Extend Polymer.Element base class
          // class Element extends App.mixin.setting(Polymer.Element) {
          class Element extends Polymer.mixinBehaviors([ App.behavior.setting ], Polymer.Element) {
            static get is() { return 'main-document-element'; }
            static get properties() {
              return { /* properties metadata */ 
              }
            }
            static get observers() { return [ /* observer descriptors */ ] }
            constructor() {
                super()
            }
            connectedCallback() {
              super.connectedCallback();
            }
          }
          window.addEventListener('WebComponentsReady', () => {
            // Register custom element definition using standard platform API
            window.customElements.define(Element.is, Element);
          })
        }
      </script>
    </dom-module>

    <!-- With ❤ From AppScript.io -->
  
  </body>
</html>
